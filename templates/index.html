<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CinemaVerse - 3D Movie Recommender</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
</head>
<body>
    <!-- Particle Background -->
    <div id="particles"></div>

    <!-- Main Container -->
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo-section">
                <h1 class="logo"><i class="fas fa-film"></i> CinemaVerse</h1>
                <p class="tagline">Where Cinema Meets AI Magic</p>
            </div>

            <div class="header-actions">
                <div class="header-search">
                    <div style="position:relative;display:inline-block;">
                        <input id="searchInput" type="text" placeholder="Search movie by name..." style="width:320px;">
                        <div id="autocomplete" style="position:absolute;left:0;right:0;top:40px;z-index:50;background:#fff;border:1px solid #ddd;border-radius:6px;display:none;max-height:240px;overflow:auto;"></div>
                    </div>
                        <div style="display:inline-flex;gap:6px;align-items:center;margin-left:8px;">
                            <input id="searchHours" type="number" min="0" placeholder="hrs" style="width:60px;">
                            <input id="searchMinutes" type="number" min="0" max="59" placeholder="mins" style="width:70px;">
                        </div>
                        <button class="header-btn header-search-btn" onclick="searchByName()">
                            <i class="fas fa-search"></i> Search
                        </button>
                </div>
                <button class="btn-recommend header-btn" onclick="getMovies()">
                    <i class="fas fa-filter"></i> Find Movies
                </button>
                <button class="header-btn" onclick="openAlgorithmsPanel()">
                    <i class="fas fa-code"></i> Algorithms
                </button>
            </div>
        </header>

        <!-- Control Panel -->
        <section class="control-panel">
            <div class="form-group">
                <label for="genre">Select Genre</label>
                <select id="genre">
                    <option value="">Choose a genre...</option>
                    <option value="Sci-Fi">üöÄ Sci-Fi</option>
                    <option value="Action">üí• Action</option>
                    <option value="Sports">‚öΩ Sports</option>
                    <option value="Drama">üé≠ Drama</option>
                    <option value="Comedy">üòÇ Comedy</option>
                    <option value="Horror">üëª Horror</option>
                </select>
            </div>

            <div class="form-group">
                <label for="rating">Min Rating (0-10)</label>
                <input type="range" id="rating" min="0" max="10" value="7" class="slider">
                <span class="rating-value"><span id="ratingDisplay">7</span>/10</span>
            </div>

            <div class="form-group">
                <label for="language">Select Language</label>
                <select id="language">
                    <option value="All Languages">üåç All Languages</option>
                    <optgroup label="üáÆüá≥ Indian Languages">
                        <option value="Hindi">üáÆüá≥ Hindi</option>
                        <option value="Tamil">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç Tamil</option>
                        <option value="Telugu">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å Telugu</option>
                        <option value="Kannada">‡≤ï‡≤®‡≥ç‡≤®‡≤° Kannada</option>
                        <option value="Malayalam">‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç Malayalam</option>
                        <option value="Punjabi">‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä Punjabi</option>
                        <option value="Marathi">‡§Æ‡§∞‡§æ‡§†‡•Ä Marathi</option>
                        <option value="Bengali">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ Bengali</option>
                        <option value="Assamese">‡¶Ö‡¶∏‡¶Æ‡ßÄ‡¶Ø‡¶º‡¶æ Assamese</option>
                    </optgroup>
                    <optgroup label="üåè International Languages">
                        <option value="English">üá∫üá∏ English</option>
                        <option value="Chinese">üá®üá≥ Chinese</option>
                        <option value="Cantonese">üá≠üá∞ Cantonese</option>
                        <option value="Japanese">üáØüáµ Japanese</option>
                        <option value="Korean">üá∞üá∑ Korean</option>
                        <option value="French">üá´üá∑ French</option>
                        <option value="German">üá©üá™ German</option>
                        <option value="Spanish">üá™üá∏ Spanish</option>
                        <option value="Russian">üá∑üá∫ Russian</option>
                        <option value="Indonesian">üáÆüá© Indonesian</option>
                    </optgroup>
                </select>
            </div>

            <!-- Control-panel Find Movies button removed (moved to header) -->
        </section>

        
        <!-- Achievements UI removed per user request -->

        <!-- Results Grid -->
        <section class="results-section">
            <h2><i class="fas fa-clapperboard"></i> Recommended For You</h2>
            <div class="results-grid" id="result">
                <div class="empty-state">
                    <i class="fas fa-popcorn"></i>
                    <p>Select a genre and rating to discover amazing movies</p>
                </div>
            </div>
        </section>

        <!-- Watchlist -->
        <section class="watchlist-section">
            <h2><i class="fas fa-bookmark"></i> My Watchlist</h2>
            <div class="watchlist-grid" id="watchlist">
                <div class="empty-state">
                    <p>Your watchlist is empty. Add movies from recommendations!</p>
                </div>
            </div>
        </section>

        <!-- Add Movie (User-contributed) -->
        <section class="add-movie-section">
            <h2><i class="fas fa-plus-circle"></i> Add a Movie</h2>
            <form id="addMovieForm" onsubmit="submitAddMovie(event)">
                <div class="form-row">
                    <label for="addTitle">Title</label>
                    <input id="addTitle" type="text" placeholder="Movie title" required>
                </div>

                <div class="form-row">
                    <label for="addGenre">Genre</label>
                    <input id="addGenre" type="text" placeholder="Genre (e.g. Sci-Fi)" required>
                </div>

                <div class="form-row">
                    <label for="addRating">Rating (0-10)</label>
                    <input id="addRating" type="number" min="0" max="10" step="0.1" value="7">
                </div>

                <div class="form-row">
                    <label for="addLanguage">Language</label>
                    <input id="addLanguage" type="text" placeholder="Language (e.g. English)" value="English">
                </div>

                <div class="form-row">
                    <label>Duration</label>
                    <div style="display:flex;gap:8px;align-items:center;">
                        <input id="addHours" type="number" min="0" placeholder="hrs" style="width:80px;">
                        <input id="addMinutes" type="number" min="0" max="59" placeholder="mins" style="width:100px;">
                    </div>
                </div>

                <div class="form-row">
                    <label for="addPoster">Poster Image (optional)</label>
                    <input id="addPoster" type="file" accept="image/*">
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn-recommend">Add Movie</button>
                </div>
            </form>
            <div id="addMovieResult" class="add-movie-result"></div>
        </section>

        <!-- Update Movie (edit existing) -->
        <section class="update-movie-section">
            <h2><i class="fas fa-edit"></i> Update an Existing Movie</h2>

            <div class="form-row">
                <label for="updateLookup">Find movie by name</label>
                <div style="display:flex;gap:8px;align-items:center;">
                    <input id="updateLookup" type="text" placeholder="Type movie name and click Load">
                    <button class="header-btn" type="button" onclick="loadExistingMovie()">Load</button>
                </div>
            </div>

            <form id="updateMovieForm" onsubmit="submitUpdateMovie(event)">
                <input id="updateOriginalTitle" type="hidden">

                <div class="form-row">
                    <label for="updateTitle">Title</label>
                    <input id="updateTitle" type="text" placeholder="Movie title" required>
                </div>

                <div class="form-row">
                    <label for="updateGenre">Genre</label>
                    <input id="updateGenre" type="text" placeholder="Genre (e.g. Sci-Fi)" required>
                </div>

                <div class="form-row">
                    <label for="updateRating">Rating (0-10)</label>
                    <input id="updateRating" type="number" min="0" max="10" step="0.1" value="7">
                </div>

                <div class="form-row">
                    <label for="updateLanguage">Language</label>
                    <input id="updateLanguage" type="text" placeholder="Language (e.g. English)" value="English">
                </div>

                <div class="form-row">
                    <label>Duration</label>
                    <div style="display:flex;gap:8px;align-items:center;">
                        <input id="updateHours" type="number" min="0" placeholder="hrs" style="width:80px;">
                        <input id="updateMinutes" type="number" min="0" max="59" placeholder="mins" style="width:100px;">
                    </div>
                </div>

                <div class="form-row">
                    <label for="updatePoster">Replace Poster (optional)</label>
                    <input id="updatePoster" type="file" accept="image/*">
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn-recommend">Update Movie</button>
                </div>
            </form>

            <div id="updateMovieResult" class="add-movie-result"></div>
        </section>
    </div>

    <!-- Movie Modal -->
    <div class="modal" id="movieModal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal()">&times;</span>
            <div class="modal-body">
                <div class="modal-poster" id="modalPoster"></div>
                <div class="modal-info">
                    <h2 id="modalTitle"></h2>
                    <div class="modal-meta">
                        <span id="modalRating"></span>
                        <span id="modalGenre"></span>
                    </div>
                    <p id="modalDescription"></p>
                    <div class="modal-actions">
                        <button class="btn-modal btn-add" onclick="addToWatchlist()">
                            <i class="fas fa-plus"></i> Add to Watchlist
                        </button>
                        <button class="btn-modal btn-rate" onclick="rateMovie()">
                            <i class="fas fa-star"></i> Rate
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Algorithms Panel -->
    <div class="algorithms-panel" id="algorithmsPanel">
        <div class="algorithms-container">
            <div class="algorithms-header">
                <h2><i class="fas fa-code"></i> Algorithms & Data Structures</h2>
                <button class="algo-close-btn" onclick="closeAlgorithmsPanel()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="algorithms-content">
                <div class="algo-card">
                    <div class="algo-icon"><i class="fas fa-binoculars"></i></div>
                    <h3>Linear Search</h3>
                    <p class="algo-desc">Sequentially examines each element until a match is found.</p>
                    <p class="algo-usage"><strong>Usage:</strong> Movie name search completion and autocomplete dropdown matching.</p>
                    <div class="algo-complexity">
                        <span class="complexity-item"><strong>Time:</strong> O(n)</span>
                        <span class="complexity-item"><strong>Space:</strong> O(1)</span>
                    </div>
                </div>

                <div class="algo-card">
                    <div class="algo-icon"><i class="fas fa-arrow-down-short-wide"></i></div>
                    <h3>Binary Search</h3>
                    <p class="algo-desc">Efficiently searches sorted data by dividing search space in half.</p>
                    <p class="algo-usage"><strong>Usage:</strong> Finding movies within rating ranges (0-10 slider range queries).</p>
                    <div class="algo-complexity">
                        <span class="complexity-item"><strong>Time:</strong> O(log n)</span>
                        <span class="complexity-item"><strong>Space:</strong> O(1)</span>
                    </div>
                </div>

                <div class="algo-card">
                    <div class="algo-icon"><i class="fas fa-sitemap"></i></div>
                    <h3>Trie (Prefix Tree)</h3>
                    <p class="algo-desc">Tree structure for storing strings to enable fast prefix-based retrieval.</p>
                    <p class="algo-usage"><strong>Usage:</strong> Autocomplete suggestions for movie names (stores all movie titles).</p>
                    <div class="algo-complexity">
                        <span class="complexity-item"><strong>Time:</strong> O(m) where m = prefix length</span>
                        <span class="complexity-item"><strong>Space:</strong> O(ALPHABET_SIZE * N)</span>
                    </div>
                </div>

                <div class="algo-card">
                    <div class="algo-icon"><i class="fas fa-layer-group"></i></div>
                    <h3>Breadth-First Search (BFS)</h3>
                    <p class="algo-desc">Explores all neighbors before moving deeper; explores level by level.</p>
                    <p class="algo-usage"><strong>Usage:</strong> Finding similar movies by exploring related genres and ratings at each level.</p>
                    <div class="algo-complexity">
                        <span class="complexity-item"><strong>Time:</strong> O(V + E) where V = vertices, E = edges</span>
                        <span class="complexity-item"><strong>Space:</strong> O(V)</span>
                    </div>
                </div>

                <div class="algo-card">
                    <div class="algo-icon"><i class="fas fa-code-branch"></i></div>
                    <h3>Depth-First Search (DFS)</h3>
                    <p class="algo-desc">Explores graph/tree by going deep first before backtracking.</p>
                    <p class="algo-usage"><strong>Usage:</strong> Exploring genre hierarchies and building movie recommendation chains.</p>
                    <div class="algo-complexity">
                        <span class="complexity-item"><strong>Time:</strong> O(V + E)</span>
                        <span class="complexity-item"><strong>Space:</strong> O(V)</span>
                    </div>
                </div>

                <div class="algo-card">
                    <div class="algo-icon"><i class="fas fa-coins"></i></div>
                    <h3>Greedy Algorithm</h3>
                    <p class="algo-desc">Makes locally optimal choices at each step to find a global optimum.</p>
                    <p class="algo-usage"><strong>Usage:</strong> Recommending highest-rated movies first for each genre category.</p>
                    <div class="algo-complexity">
                        <span class="complexity-item"><strong>Time:</strong> O(n log n)</span>
                        <span class="complexity-item"><strong>Space:</strong> O(1)</span>
                    </div>
                </div>

                <div class="algo-card">
                    <div class="algo-icon"><i class="fas fa-arrow-up-a-z"></i></div>
                    <h3>Merge Sort</h3>
                    <p class="algo-desc">Divide-and-conquer sorting algorithm that divides, conquers, and merges.</p>
                    <p class="algo-usage"><strong>Usage:</strong> Sorting movies by rating, title, or language for display in recommendations.</p>
                    <div class="algo-complexity">
                        <span class="complexity-item"><strong>Time:</strong> O(n log n)</span>
                        <span class="complexity-item"><strong>Space:</strong> O(n)</span>
                    </div>
                </div>

                <div class="algo-card">
                    <div class="algo-icon"><i class="fas fa-key"></i></div>
                    <h3>Hashing (Hash Map)</h3>
                    <p class="algo-desc">Maps keys to values using hash functions for fast lookups.</p>
                    <p class="algo-usage"><strong>Usage:</strong> Storing movie database, ratings, watchlist, and user feedback for O(1) access.</p>
                    <div class="algo-complexity">
                        <span class="complexity-item"><strong>Time:</strong> O(1) average, O(n) worst</span>
                        <span class="complexity-item"><strong>Space:</strong> O(n)</span>
                    </div>
                </div>

                <div class="algo-card">
                    <div class="algo-icon"><i class="fas fa-bars"></i></div>
                    <h3>Stack</h3>
                    <p class="algo-desc">LIFO data structure: last element added is first to be removed.</p>
                    <p class="algo-usage"><strong>Usage:</strong> Managing browser back/forward navigation and undo operations in watchlist.</p>
                    <div class="algo-complexity">
                        <span class="complexity-item"><strong>Time:</strong> O(1) push/pop</span>
                        <span class="complexity-item"><strong>Space:</strong> O(n)</span>
                    </div>
                </div>

                <div class="algo-card">
                    <div class="algo-icon"><i class="fas fa-layer-group"></i></div>
                    <h3>Queue</h3>
                    <p class="algo-desc">FIFO data structure: first element added is first to be removed.</p>
                    <p class="algo-usage"><strong>Usage:</strong> Processing user requests sequentially (recommendations, searches).</p>
                    <div class="algo-complexity">
                        <span class="complexity-item"><strong>Time:</strong> O(1) enqueue/dequeue</span>
                        <span class="complexity-item"><strong>Space:</strong> O(n)</span>
                    </div>
                </div>

                <div class="algo-card">
                    <div class="algo-icon"><i class="fas fa-gift"></i></div>
                    <h3>Dynamic Programming (0/1 Knapsack)</h3>
                    <p class="algo-desc">Solves optimization problems by storing subproblem solutions.</p>
                    <p class="algo-usage"><strong>Usage:</strong> Watch-time based recommendations (maximizing movie value within time constraints).</p>
                    <div class="algo-complexity">
                        <span class="complexity-item"><strong>Time:</strong> O(n * W) where n = items, W = capacity</span>
                        <span class="complexity-item"><strong>Space:</strong> O(n * W)</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

                    <!-- Remove Film -->
                    <section class="remove-movie-section">
                        <h2><i class="fas fa-trash-alt"></i> Remove Film</h2>

                        <div class="form-row">
                            <label for="removeLookup">Find movie by name</label>
                            <div style="display:flex;gap:8px;align-items:center;">
                                <input id="removeLookup" type="text" placeholder="Type movie name to remove">
                                <button class="header-btn" type="button" onclick="confirmRemoveMovie()">Remove</button>
                            </div>
                        </div>

                        <div id="removeMovieResult" style="margin-top:8px;"></div>
                    </section>

                    <!-- Footer -->
                    <footer class="site-footer">
                        <div class="container">
                            <p><strong>CinemaVerse</strong></p>
                            <p class="muted">A Movie Recommendation Platform built using DAA concepts</p>
                            <p class="muted">¬© 2026 CinemaVerse. All rights reserved.</p>
                        </div>
                    </footer>

                <!-- Scripts -->
                <!-- Intro Animation (must load before main script) -->
                <script src="/static/intro.js"></script>
                <!-- Main App Script -->
                <script src="/static/script.js"></script>
            </body>
            </html>
